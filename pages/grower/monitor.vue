<template>
  <view class="container">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <page-title title="èŠ±æ£šç›‘æ§" :showBack="true"></page-title>
    
    <!-- ä½ç½®ä¿¡æ¯ -->
    <view class="location-card">
      <view class="location-icon">ğŸ“</view>
      <view class="location-text">æ­å·å¸‚ä»€ä¹ˆä¸œè¥¿æ•°å­—èŠ±æˆ¿</view>
    </view>
    
    <!-- èŠ±æ£šå›¾ç‰‡ç½‘æ ¼ -->
    <view class="image-grid">
      <image class="grid-image main" src="/static/huapeng/huapeng1.png" mode="aspectFill"></image>
      <image class="grid-image" src="/static/huapeng/huapeng2.png" mode="aspectFill"></image>
      <image class="grid-image" src="/static/huapeng/huapeng1.png" mode="aspectFill"></image>
      <image class="grid-image" src="/static/huapeng/huapeng2.png" mode="aspectFill"></image>
    </view>
    
    <view class="last-checked">ä¸Šæ¬¡æŸ¥çœ‹ 7:32</view>
    
    <!-- æ•°æ®åˆ†æå›¾è¡¨ -->
    <view class="chart-card">
      <view class="chart-title">æ•°æ®åˆ†æ</view>
      <view class="chart-container">
        <!-- è¿™é‡Œæ˜¯æ¨¡æ‹Ÿçš„å›¾è¡¨ï¼Œå®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨echartsç­‰å›¾è¡¨åº“ -->
        <view class="chart-line blue"></view>
        <view class="chart-line yellow"></view>
        <view class="chart-line green"></view>
      </view>
    </view>
    
    <!-- ç›‘æµ‹æ•°æ® -->
    <view class="data-grid">
      <view class="data-card">
        <view class="data-title">åœŸå£¤æ¸©åº¦</view>
        <view class="data-value red">15.5%</view>
        <view class="data-icon">ğŸŒ±</view>
      </view>
      
      <view class="data-card">
        <view class="data-title">åœŸå£¤æ¸©åº¦</view>
        <view class="data-value green">30â„ƒ</view>
        <view class="data-icon">ğŸŒ¡ï¸</view>
      </view>
      
      <view class="data-card">
        <view class="data-title">å…‰ç…§å¼ºåº¦</view>
        <view class="data-value yellow">446 Lux</view>
        <view class="data-icon">â˜€ï¸</view>
      </view>
      
      <view class="data-card">
        <view class="data-title">ç¯å¢ƒæ¹¿åº¦</view>
        <view class="data-value green">74%</view>
        <view class="data-icon">ğŸ’§</view>
      </view>
      
      <view class="data-card">
        <view class="data-title">ç¯å¢ƒæ¸©åº¦</view>
        <view class="data-value green">30â„ƒ</view>
        <view class="data-icon">ğŸŒ¡ï¸</view>
      </view>
      
      <view class="data-card">
        <view class="data-title">äºŒæ°§åŒ–ç¢³æµ“åº¦</view>
        <view class="data-value yellow">493 ppm</view>
        <view class="data-icon">â˜ï¸</view>
      </view>
    </view>
    
    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <view class="tabbar">
      <view class="tab-item active">
        <image class="tab-icon" src="/static/icon/location2.png"></image>
        <text>èŠ±æ£š</text>
      </view>
      <view class="tab-item ai-tab" @click="goToAIGC">
        <view class="ai-circle">
          <image class="tab-icon" src="/static/icon/AIGC.png"></image>
        </view>
        <text>AIGCæ¨è</text>
      </view>
      <view class="tab-item" @click="goToUser">
        <image class="tab-icon" src="/static/icon/user.png"></image>
        <text>æˆ‘çš„</text>
      </view>
    </view>
  </view>
</template>

<script>
import pageTitle from '@/components/page-title/page-title.vue'

export default {
  components: {
    pageTitle
  },
  methods: {
    goToAIGC() {
      uni.navigateTo({
        url: '/pages/grower/aigc'
      })
    },
    goToUser() {
      uni.navigateTo({
        url: '/pages/grower/user'
      })
    }
  }
}
</script>

<style>
.container {
  min-height: 100vh;
  background-color: #f8f8f8;
  background-image: url('/static/bg-pattern.png');
  background-size: cover;
  background-repeat: no-repeat;
  padding-bottom: 120rpx;
  padding-top: 100rpx;
}

/* ä½ç½®ä¿¡æ¯å¡ç‰‡ */
.location-card {
  margin: 20rpx;
  background-color: #fff;
  border-radius: 16rpx;
  padding: 20rpx;
  display: flex;
  align-items: center;
}

.location-icon {
  font-size: 40rpx;
  margin-right: 10rpx;
}

.location-text {
  font-size: 28rpx;
  color: #333;
}

/* å›¾ç‰‡ç½‘æ ¼ */
.image-grid {
  margin: 20rpx;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 200rpx);
  gap: 10rpx;
  border-radius: 16rpx;
  overflow: hidden;
}

.grid-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.grid-image.main {
  grid-row: 1 / 2;
  grid-column: 1 / 3;
  height: 300rpx;
}

.last-checked {
  text-align: right;
  padding: 0 20rpx;
  color: #999;
  font-size: 24rpx;
  margin-bottom: 20rpx;
}

/* å›¾è¡¨å¡ç‰‡ */
.chart-card {
  margin: 20rpx;
  background-color: #fff;
  border-radius: 16rpx;
  padding: 20rpx;
}

.chart-title {
  font-size: 26rpx;
  color: #666;
  margin-bottom: 20rpx;
}

.chart-container {
  height: 200rpx;
  position: relative;
  display: flex;
  align-items: center;
}

.chart-line {
  height: 4rpx;
  position: absolute;
  left: 0;
  right: 0;
}

.chart-line.blue {
  background: linear-gradient(90deg, transparent, #4285f4, transparent);
  top: 70rpx;
  transform: rotate(-5deg);
}

.chart-line.yellow {
  background: linear-gradient(90deg, transparent, #fbbc04, #fbbc04, transparent);
  top: 100rpx;
  transform: rotate(10deg);
}

.chart-line.green {
  background: linear-gradient(90deg, #34a853, transparent, #34a853);
  top: 130rpx;
  transform: rotate(-8deg);
}

/* æ•°æ®ç½‘æ ¼ */
.data-grid {
  margin: 20rpx;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(3, auto);
  gap: 20rpx;
}

.data-card {
  background-color: #fff;
  border-radius: 16rpx;
  padding: 20rpx;
  position: relative;
  height: 120rpx;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.data-title {
  font-size: 24rpx;
  color: #666;
  margin-bottom: 10rpx;
}

.data-value {
  font-size: 32rpx;
  font-weight: bold;
}

.data-value.red {
  color: #ea4335;
}

.data-value.green {
  color: #34a853;
}

.data-value.yellow {
  color: #fbbc04;
}

.data-icon {
  position: absolute;
  right: 20rpx;
  top: 50%;
  transform: translateY(-50%);
  font-size: 40rpx;
}

/* åº•éƒ¨å¯¼èˆªæ  */
.tabbar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 120rpx;
  background-color: #fff;
  display: flex;
  align-items: center;
  border-top: 1rpx solid #eee;
}

.tab-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: 24rpx;
  color: #666;
}

.tab-item.active {
  color: #6eb56e;
}

.tab-item text {
  line-height: 1.2;
}

.tab-icon {
  width: 48rpx;
  height: 48rpx;
  margin-bottom: 4rpx;
}

.ai-tab {
  position: relative;
  top: -20rpx;
}

.ai-circle {
  width: 80rpx;
  height: 80rpx;
  background-color: #a7c4a0;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.ai-circle .tab-icon {
  width: 48rpx;
  height: 48rpx;
  margin: 0;
}
</style> 